import { industry020101 } from './0201ì—”ì§„ë³¸ì²´ì •ë¹„/industry_ì—”ì§„ë³¸ì²´ë¬¸ì œ.js';
import { industry020102 } from './0201ì—”ì§„ë³¸ì²´ì •ë¹„/industry_ì—”ì§„ë³¸ì²´ë¬¸ì œ.js';
import { industry020103 } from './0201ì—”ì§„ë³¸ì²´ì •ë¹„/industry_ì—”ì§„ë³¸ì²´ë¬¸ì œ.js';
import { industry020104 } from './0201ì—”ì§„ë³¸ì²´ì •ë¹„/industry_ì—”ì§„ë³¸ì²´ë¬¸ì œ.js';
import { industry020105 } from './0201ì—”ì§„ë³¸ì²´ì •ë¹„/industry_ì—”ì§„ë³¸ì²´ë¬¸ì œ.js';
import { industry020201 } from './0202ëƒ‰ê°ì¥ì¹˜ì •ë¹„/industry_ëƒ‰ê°ì¥ì¹˜ë¬¸ì œ.js';
import { industry020202 } from './0202ëƒ‰ê°ì¥ì¹˜ì •ë¹„/industry_ëƒ‰ê°ì¥ì¹˜ë¬¸ì œ.js';
import { industry020203 } from './0202ëƒ‰ê°ì¥ì¹˜ì •ë¹„/industry_ëƒ‰ê°ì¥ì¹˜ë¬¸ì œ.js';
import { industry020204 } from './0202ëƒ‰ê°ì¥ì¹˜ì •ë¹„/industry_ëƒ‰ê°ì¥ì¹˜ë¬¸ì œ.js';
import { industry020205 } from './0202ëƒ‰ê°ì¥ì¹˜ì •ë¹„/industry_ëƒ‰ê°ì¥ì¹˜ë¬¸ì œ.js';
import { industry020301 } from './0203ìœ¤í™œì¥ì¹˜ì •ë¹„/industry_ìœ¤í™œì¥ì¹˜ë¬¸ì œ.js';
import { industry020302 } from './0203ìœ¤í™œì¥ì¹˜ì •ë¹„/industry_ìœ¤í™œì¥ì¹˜ë¬¸ì œ.js';
import { industry020303 } from './0203ìœ¤í™œì¥ì¹˜ì •ë¹„/industry_ìœ¤í™œì¥ì¹˜ë¬¸ì œ.js';
import { industry020304 } from './0203ìœ¤í™œì¥ì¹˜ì •ë¹„/industry_ìœ¤í™œì¥ì¹˜ë¬¸ì œ.js';
import { industry020305 } from './0203ìœ¤í™œì¥ì¹˜ì •ë¹„/industry_ìœ¤í™œì¥ì¹˜ë¬¸ì œ.js';
import { industry020401 } from './0204ì—°ë£Œì¥ì¹˜ì •ë¹„/industry_ì—°ë£Œì¥ì¹˜ë¬¸ì œ.js';
import { industry020402 } from './0204ì—°ë£Œì¥ì¹˜ì •ë¹„/industry_ì—°ë£Œì¥ì¹˜ë¬¸ì œ.js';
import { industry020403 } from './0204ì—°ë£Œì¥ì¹˜ì •ë¹„/industry_ì—°ë£Œì¥ì¹˜ë¬¸ì œ.js';
import { industry020404 } from './0204ì—°ë£Œì¥ì¹˜ì •ë¹„/industry_ì—°ë£Œì¥ì¹˜ë¬¸ì œ.js';
import { industry020405 } from './0204ì—°ë£Œì¥ì¹˜ì •ë¹„/industry_ì—°ë£Œì¥ì¹˜ë¬¸ì œ.js';
import { industry020501 } from './0205ì—”ì§„ì í™”ì¥ì¹˜ì •ë¹„/industry_ì—”ì§„ì í™”ì¥ì¹˜ë¬¸ì œ.js';
import { industry020502 } from './0205ì—”ì§„ì í™”ì¥ì¹˜ì •ë¹„/industry_ì—”ì§„ì í™”ì¥ì¹˜ë¬¸ì œ.js';
import { industry020503 } from './0205ì—”ì§„ì í™”ì¥ì¹˜ì •ë¹„/industry_ì—”ì§„ì í™”ì¥ì¹˜ë¬¸ì œ.js';
import { industry020504 } from './0205ì—”ì§„ì í™”ì¥ì¹˜ì •ë¹„/industry_ì—”ì§„ì í™”ì¥ì¹˜ë¬¸ì œ.js';
import { industry020505 } from './0205ì—”ì§„ì í™”ì¥ì¹˜ì •ë¹„/industry_ì—”ì§„ì í™”ì¥ì¹˜ë¬¸ì œ.js';
import { industry020601 } from './0206í¡ë°°ê¸°ì œì–´ì¥ì¹˜ì •ë¹„/industry_í¡ë°°ê¸°ì œì–´ì¥ì¹˜ë¬¸ì œ.js';
import { industry020602 } from './0206í¡ë°°ê¸°ì œì–´ì¥ì¹˜ì •ë¹„/industry_í¡ë°°ê¸°ì œì–´ì¥ì¹˜ë¬¸ì œ.js';
import { industry020603 } from './0206í¡ë°°ê¸°ì œì–´ì¥ì¹˜ì •ë¹„/industry_í¡ë°°ê¸°ì œì–´ì¥ì¹˜ë¬¸ì œ.js';
import { industry020604 } from './0206í¡ë°°ê¸°ì œì–´ì¥ì¹˜ì •ë¹„/industry_í¡ë°°ê¸°ì œì–´ì¥ì¹˜ë¬¸ì œ.js';
import { industry020605 } from './0206í¡ë°°ê¸°ì œì–´ì¥ì¹˜ì •ë¹„/industry_í¡ë°°ê¸°ì œì–´ì¥ì¹˜ë¬¸ì œ.js';
import { industry020701 } from './0207ê³¼ê¸‰ì¥ì¹˜ì •ë¹„/industry_ê³¼ê¸‰ì¥ì¹˜ë¬¸ì œ.js';
import { industry020702 } from './0207ê³¼ê¸‰ì¥ì¹˜ì •ë¹„/industry_ê³¼ê¸‰ì¥ì¹˜ë¬¸ì œ.js';
import { industry020703 } from './0207ê³¼ê¸‰ì¥ì¹˜ì •ë¹„/industry_ê³¼ê¸‰ì¥ì¹˜ë¬¸ì œ.js';
import { industry020704 } from './0207ê³¼ê¸‰ì¥ì¹˜ì •ë¹„/industry_ê³¼ê¸‰ì¥ì¹˜ë¬¸ì œ.js';
import { industry020705 } from './0207ê³¼ê¸‰ì¥ì¹˜ì •ë¹„/industry_ê³¼ê¸‰ì¥ì¹˜ë¬¸ì œ.js';
import { industry020801 } from './0208ê°€ì†”ë¦°ì „ìì œì–´ì¥ì¹˜ì •ë¹„/industry_ê°€ì†”ë¦°ì „ìë¬¸ì œ.js';
import { industry020802 } from './0208ê°€ì†”ë¦°ì „ìì œì–´ì¥ì¹˜ì •ë¹„/industry_ê°€ì†”ë¦°ì „ìë¬¸ì œ.js';
import { industry020803 } from './0208ê°€ì†”ë¦°ì „ìì œì–´ì¥ì¹˜ì •ë¹„/industry_ê°€ì†”ë¦°ì „ìë¬¸ì œ.js';
import { industry020804 } from './0208ê°€ì†”ë¦°ì „ìì œì–´ì¥ì¹˜ì •ë¹„/industry_ê°€ì†”ë¦°ì „ìë¬¸ì œ.js';
import { industry020805 } from './0208ê°€ì†”ë¦°ì „ìì œì–´ì¥ì¹˜ì •ë¹„/industry_ê°€ì†”ë¦°ì „ìë¬¸ì œ.js';
import { industry021001 } from './0210ë””ì ¤ì „ìì œì–´ì¥ì¹˜ì •ë¹„/industry_ë””ì ¤ì „ìë¬¸ì œ.js';
import { industry021002 } from './0210ë””ì ¤ì „ìì œì–´ì¥ì¹˜ì •ë¹„/industry_ë””ì ¤ì „ìë¬¸ì œ.js';
import { industry021003 } from './0210ë””ì ¤ì „ìì œì–´ì¥ì¹˜ì •ë¹„/industry_ë””ì ¤ì „ìë¬¸ì œ.js';
import { industry021004 } from './0210ë””ì ¤ì „ìì œì–´ì¥ì¹˜ì •ë¹„/industry_ë””ì ¤ì „ìë¬¸ì œ.js';
import { industry021005 } from './0210ë””ì ¤ì „ìì œì–´ì¥ì¹˜ì •ë¹„/industry_ë””ì ¤ì „ìë¬¸ì œ.js';
import { industry021201 } from './0212ë°°ì¶œê°€ìŠ¤ì œì–´ì¥ì¹˜ì •ë¹„/industry_ë°°ì¶œê°€ìŠ¤ë¬¸ì œ.js';
import { industry021202 } from './0212ë°°ì¶œê°€ìŠ¤ì œì–´ì¥ì¹˜ì •ë¹„/industry_ë°°ì¶œê°€ìŠ¤ë¬¸ì œ.js';
import { industry021203 } from './0212ë°°ì¶œê°€ìŠ¤ì œì–´ì¥ì¹˜ì •ë¹„/industry_ë°°ì¶œê°€ìŠ¤ë¬¸ì œ.js';
import { industry021204 } from './0212ë°°ì¶œê°€ìŠ¤ì œì–´ì¥ì¹˜ì •ë¹„/industry_ë°°ì¶œê°€ìŠ¤ë¬¸ì œ.js';
import { industry021205 } from './0212ë°°ì¶œê°€ìŠ¤ì œì–´ì¥ì¹˜ì •ë¹„/industry_ë°°ì¶œê°€ìŠ¤ë¬¸ì œ.js';


// 1. ë¬¸ì œë“¤ì„ ì£¼ì œë³„(ê³¼ëª©ë³„)ë¡œ ê·¸ë£¹í™”í•©ë‹ˆë‹¤. (ìˆ˜ì •ëœ ë¡œì§)
const TOPIC_GROUPS = {
    '0201': [industry020101, industry020102, industry020103, industry020104, industry020105], 
    '0202': [industry020201, industry020202, industry020203, industry020204, industry020205], 
    '0203': [industry020301, industry020302, industry020303, industry020304, industry020305], 
    '0204': [industry020401, industry020402, industry020403, industry020404, industry020405], 
    '0205': [industry020501, industry020502, industry020503, industry020504, industry020505], 
    '0206': [industry020601, industry020602, industry020603, industry020604, industry020605], 
    '0207': [industry020701, industry020702, industry020703, industry020704, industry020705], 
    '0208': [industry020801, industry020802, industry020803, industry020804, industry020805], 
    '0210': [industry021001, industry021002, industry021003, industry021004, industry021005], 
    '0212': [industry021201, industry021202, industry021203, industry021204, industry021205] 
};

// ê³¼ëª© ì½”ë“œëª…ì„ ì‹¤ì œ ê³¼ëª© ì´ë¦„ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ë°ì´í„° ë° í•¨ìˆ˜ (ìƒˆë¡œ ì¶”ê°€ë¨)
const TOPIC_NAMES = {
    '0201': 'ì—”ì§„ë³¸ì²´ ì •ë¹„',
    '0202': 'ëƒ‰ê°ì¥ì¹˜ ì •ë¹„',
    '0203': 'ìœ¤í™œì¥ì¹˜ ì •ë¹„',
    '0204': 'ì—°ë£Œì¥ì¹˜ ì •ë¹„',
    '0205': 'ì—”ì§„ì í™”ì¥ì¹˜ ì •ë¹„',
    '0206': 'í¡Â·ë°°ê¸°ì œì–´ì¥ì¹˜ ì •ë¹„',
    '0207': 'ê³¼ê¸‰ì¥ì¹˜ ì •ë¹„',
    '0208': 'ê°€ì†”ë¦° ì „ìì œì–´ì¥ì¹˜ ì •ë¹„',
    '0210': 'ë””ì ¤ ì „ìì œì–´ì¥ì¹˜ ì •ë¹„',
    '0212': 'ë°°ì¶œê°€ìŠ¤ ì œì–´ì¥ì¹˜ ì •ë¹„',
};

function getTopicName(code) {
    return TOPIC_NAMES[code] || 'ë¯¸ë¶„ë¥˜';
}


// ë¬¸ì œ/ë³´ê¸° ëœë¤ ì„ê¸° (ê¸°ì¡´ í•¨ìˆ˜ ìœ ì§€)
function shuffleArray(array) {
Â  Â return array.sort(() => Math.random() - 0.5);
}

// ì¤‘ë³µ ì œê±° ë° ëœë¤ ì¶”ì¶œ (ê¸°ì¡´ í•¨ìˆ˜ ìœ ì§€)
function selectUniqueRandomQuestions(sourceArray, count) {
Â  Â  const shuffled = shuffleArray([...sourceArray]);
Â  Â  const selected = [];
Â  Â  // Setì„ ì‚¬ìš©í•˜ì—¬ ë¬¸ì œ í…ìŠ¤íŠ¸ì˜ ì¤‘ë³µì„ í™•ì¸
Â  Â  const questionSet = new Set(); 
Â  Â  
Â  Â  for (const q of shuffled) {
Â  Â  Â  Â  if (!questionSet.has(q.question)) {
Â  Â  Â  Â  Â  Â  questionSet.add(q.question);
Â  Â  Â  Â  Â  Â  selected.push(q);
Â  Â  Â  Â  }
Â  Â  Â  Â  if (selected.length >= count) {
Â  Â  Â  Â  Â  Â  break;
Â  Â  Â  Â  }
Â  Â  }
Â  Â  return selected;
}
Â 
// 2. ê³¼ëª©ë³„ë¡œ ê· ë“±í•˜ê²Œ ë¬¸ì œ ìˆ˜ë¥¼ ì¶”ì¶œí•˜ëŠ” ìƒˆë¡œìš´ í•µì‹¬ í•¨ìˆ˜ (ìˆ˜ì •ë¨: topicCode ì¶”ê°€)
function getBalancedQuestions(totalCount) {
    const topicKeys = Object.keys(TOPIC_GROUPS); 
    const topicCount = topicKeys.length; 
    
    // ê³¼ëª©ë‹¹ ê· ë“±í•˜ê²Œ í• ë‹¹í•  ë¬¸ì œ ìˆ˜ ê³„ì‚°
    const basePerTopic = Math.floor(totalCount / topicCount);
    let remainder = totalCount % topicCount;
    
    let balancedQuestions = [];
    
    for (const key of topicKeys) {
        const countToSelect = basePerTopic + (remainder > 0 ? 1 : 0);
        if (remainder > 0) remainder--;

        const allTopicQuestions = TOPIC_GROUPS[key].flat();
        
        const selectedForTopic = selectUniqueRandomQuestions(allTopicQuestions, countToSelect);
        
        // âœ¨ ì¶”ì¶œëœ ë¬¸ì œì— topicCode ì†ì„± ì¶”ê°€
        const questionsWithTopic = selectedForTopic.map(q => ({
            ...q,
            topicCode: key 
        }));
        
        balancedQuestions.push(...questionsWithTopic);
    }

    return balancedQuestions;
}


// ë¬¸ì œ ìˆœì„œ ëœë¤ + 60ë¬¸ì œ ì œí•œ (ê· ë“± ì¶”ì¶œ í•¨ìˆ˜ ì‚¬ìš©)
let questions = getBalancedQuestions(60);

// ì¶”ì¶œëœ 60ê°œì˜ ë¬¸ì œë¥¼ ìµœì¢…ì ìœ¼ë¡œ í•œë²ˆ ë” ì„ì–´ì„œ ìˆœì„œë¥¼ ë’¤ì£½ë°•ì£½ ë§Œë“¦
questions = shuffleArray(questions);
Â 
// ë³´ê¸° ìˆœì„œ ëœë¤í™” (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
questions.forEach((q) => {
Â  Â  let combined = q.options.map((opt, idx) => ({ opt, idx }));
Â  Â  combined = shuffleArray(combined);
Â  Â  q.answer = combined.findIndex((c) => c.idx === q.answer);
Â  Â  q.options = combined.map((c) => c.opt);
});
Â 

// ë‹µì•ˆ ì €ì¥ (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
let answers = Array(questions.length).fill(-1);
Â 

// ë‚¨ì€ ë¬¸ì œ í‘œì‹œ (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
function updateRemaining() {
Â  Â  const remainingDiv = document.getElementById("remaining");
Â  Â  let answered = answers.filter((a) => a >= 0).length;
Â  Â  remainingDiv.textContent = `ë‚¨ì€ ë¬¸ì œ: ${questions.length - answered}/${questions.length}`;
}
Â 

// ë¬¸ì œ ë Œë”ë§ (ìˆ˜ì •ë¨: ê³¼ëª©ëª… í‘œì‹œ ë¡œì§ ì¶”ê°€)
function renderQuiz() {
Â  Â  const quizDiv = document.getElementById("quiz");
Â  Â  quizDiv.innerHTML = "";
Â 
Â  Â  questions.forEach((q, i) => {
Â  Â  Â  const div = document.createElement("div");
Â  Â  Â  div.className = "question";
Â  Â  Â  
Â  Â  Â  // âœ¨ ìˆ˜ì •ëœ ë¶€ë¶„: ë¬¸ì œ ì œëª© ìœ„ì— ê³¼ëª© ì½”ë“œ(ì´ë¦„)ë¥¼ í‘œì‹œ
      const topicName = getTopicName(q.topicCode);

Â  Â  Â  Â  Â  div.innerHTML = `
        <div class="q-header">
            <span class="topic-code">${topicName}</span>
            <span id="q-status-${i}" class="q-status"></span>
        </div>
        <strong class="q-title">${i + 1}. ${q.question}</strong>
      `;

Â  Â  Â  // 1. imagePath ì†ì„±ì´ ìˆëŠ”ì§€ í™•ì¸
Â  Â  Â  Â  if (q.imagePath) {
Â  Â  Â  Â  Â  Â  div.innerHTML += `<img 
Â  Â  Â  Â  Â  Â  Â  Â  src="${q.imagePath}" 
Â  Â  Â  Â  Â  Â  Â  Â  alt="ë¬¸ì œ ê·¸ë¦¼" 
Â  Â  Â  Â  Â  Â  Â  Â  style="width: 500px; height: auto; margin: 15px 0;"
Â  Â  Â  Â  Â  Â  >`;
Â  Â  Â  Â  }
Â 
Â  Â  Â  const optsDiv = document.createElement("div");
Â  Â  Â  optsDiv.className = "options";
Â  Â  Â  q.options.forEach((opt, j) => {
Â  Â  Â  Â  const label = document.createElement("label");
Â  Â  Â  Â  label.innerHTML = `<input type="radio" name="q${i}" value="${j}"> ${opt}`;
Â  Â  Â  Â  
Â  Â  Â  Â  const radioInput = label.querySelector("input");
Â  Â  Â  Â  
Â  Â  Â  Â  radioInput.addEventListener("change", () => {
Â  Â  Â  Â  Â  answers[i] = j;
Â  Â  Â  Â  Â  updateRemaining();

Â  Â  Â  Â  Â  const allLabels = optsDiv.querySelectorAll('label');
Â  Â  Â  Â  Â  allLabels.forEach(l => l.classList.remove('selected'));

Â  Â  Â  Â  Â  label.classList.add('selected');

Â  Â  Â  Â  });
Â  Â  Â  Â  
Â  Â  Â  Â  optsDiv.appendChild(label);
Â  Â  Â  });
Â  Â  Â  div.appendChild(optsDiv);
Â 
Â  Â  Â  const explainDiv = document.createElement("div");
Â  Â  Â  explainDiv.className = "explain";
Â  Â  Â  div.appendChild(explainDiv);
Â 
Â  Â  Â  quizDiv.appendChild(div);
Â  Â  });
Â 
Â  Â  updateRemaining();
}
Â 
// -----------------------------
// ì œì¶œ ë° ì±„ì  (ì•„ì´ì½˜/ìƒ‰ìƒ ì„¤ì •) (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
function submitQuiz() {
Â  Â  // 1. ì•ˆ í‘¼ ë¬¸ì œ ì¸ë±ìŠ¤ í™•ì¸
Â  Â  const firstUnansweredIndex = answers.findIndex((a) => a < 0);
Â  Â  const unansweredCount = answers.filter((a) => a < 0).length;

Â  Â  // 2. ì•ˆ í‘¼ ë¬¸ì œê°€ ìˆì„ ê²½ìš° í™•ì¸
Â  Â  if (unansweredCount > 0) {
Â  Â  Â  Â  const confirmSubmit = confirm(
Â  Â  Â  Â  Â  Â  `ì•„ì§ ${unansweredCount}ê°œì˜ ë¬¸ì œë¥¼ í’€ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.\nê³„ì† ì œì¶œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? (ì·¨ì†Œ ì‹œ ë¬¸ì œí’€ì´ ê³„ì† ë° ì²« ì•ˆ í‘¼ ë¬¸ì œë¡œ ì´ë™)`
Â  Â  Â  Â  );
Â  Â  Â  Â  
Â  Â  Â  Â  if (!confirmSubmit) {
Â  Â  Â  Â  Â  Â  if (firstUnansweredIndex !== -1) {
Â  Â  Â  Â  Â  Â  Â  Â  const questionDiv = document.getElementsByClassName("question")[firstUnansweredIndex];
Â  Â  Â  Â  Â  Â  Â  Â  questionDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }
Â  Â  }
Â  Â  
Â  Â  clearInterval(timerInterval);
Â  Â  document.getElementById("timer").textContent = "";
Â 
Â  Â  let score = 0;
Â  Â  window.scrollTo({
Â  Â  Â  top: 0,
Â  Â  Â  behavior: 'smooth'
Â  Â  });
Â  Â  
Â  Â  questions.forEach((q, i) => {
Â  Â  Â  const questionDiv = document.getElementsByClassName("question")[i];
Â  Â  Â  const explainDiv = questionDiv.querySelector(".explain");
Â  Â  Â  const labels = questionDiv.querySelectorAll('label'); 
Â  Â  Â  const statusSpan = document.getElementById(`q-status-${i}`); 

Â  Â  Â  // ì´ì „ ìƒíƒœ í´ë˜ìŠ¤ ì´ˆê¸°í™”
Â  Â  Â  statusSpan.classList.remove('status-correct', 'status-wrong', 'status-unanswered');

Â  Â  Â  // ğŸ’¡ ë¬¸ì œ ìƒíƒœì— ë”°ë¼ ì•„ì´ì½˜/ìƒ‰ìƒ/í´ë˜ìŠ¤ ê²°ì •
Â  Â  Â  if (answers[i] == q.answer) {
Â  Â  Â  Â  Â  // ì •ë‹µ: â­• 
Â  Â  Â  Â  Â  score++;
Â  Â  Â  Â  Â  labels[q.answer].style.backgroundColor = "#b6fcb6";
Â  Â  Â  Â  Â  statusSpan.innerHTML = 'â­•';
Â  Â  Â  } else if (answers[i] >= 0) {
Â  Â  Â  Â  Â  // ì˜¤ë‹µ: âŒ 
Â  Â  Â  Â  Â  labels[q.answer].style.backgroundColor = "#b6fcb6"; // ì •ë‹µì€ ì´ˆë¡ìƒ‰
Â  Â  Â  Â  Â  labels[answers[i]].style.backgroundColor = "#fcb6b6"; // ë‚´ê°€ ê³ ë¥¸ ì˜¤ë‹µì€ ë¹¨ê°„ìƒ‰
Â  Â  Â  Â  Â  statusSpan.innerHTML = 'âŒ';
Â  Â  Â  Â  Â  statusSpan.style.color = '#dc3545'; 
Â  Â  Â  Â  Â  statusSpan.classList.add('status-wrong'); // í´ë˜ìŠ¤ ì¶”ê°€ (CSSì—ì„œ ë¹¨ê°„ìƒ‰ ê°•ì œ ì ìš©)
Â  Â  Â  } else {
Â  Â  Â  Â  Â  // ë¯¸ì‘ë‹µ: ì •ë‹µ ì˜µì…˜ í•˜ì´ë¼ì´íŠ¸ë§Œ ìœ ì§€
Â  Â  Â  Â  Â  labels[q.answer].style.backgroundColor = "#b6fcb6"; // ì •ë‹µì€ ì´ˆë¡ìƒ‰
Â  Â  Â  Â  Â  statusSpan.innerHTML = ''; // ì•„ì´ì½˜ ë‚´ìš© ë¹„ìš°ê¸°
Â  Â  Â  Â  Â  statusSpan.style.color = ''; // ìŠ¤íƒ€ì¼ ì œê±°
Â  Â  Â  }

Â  Â  Â  // ì±„ì  ì™„ë£Œ í›„ ê¸°íƒ€ ìŠ¤íƒ€ì¼ ì œê±° ë° í•´ì„¤ í‘œì‹œ
Â  Â  Â  labels.forEach(l => l.classList.remove('selected'));

Â  Â  Â  explainDiv.innerHTML = `
Â  Â  <div style="color: #1f3b73; font-weight: 700;">ì •ë‹µ: ${q.options[q.answer]}</div>
Â  Â  <div style="margin-top: 5px;">${q.explain.trim()}</div> 
Â  Â  `;

Â  Â  Â  questionDiv.querySelectorAll('input[type="radio"]').forEach((r) => (r.disabled = true));
Â  Â  });
Â 
Â  Â  // ìƒë‹¨ ë°°ë„ˆì— ì ìˆ˜ í‘œì‹œ
Â  Â  const status = document.getElementById("status");
Â  Â  status.classList.add("center");
Â  Â  status.innerHTML = `<span id="scoreDisplay">ì—”ì§„ì •ë¹„ ì „ì²´ëœë¤ ì´ì : ${score}/${questions.length}</span>`;
Â 
Â  Â  // ì œì¶œ ë²„íŠ¼ ì œê±°
Â  Â  document.getElementById("submitBtn").style.display = "none";
Â 
Â  Â  // ê²°ê³¼ì°½ í‘œì‹œ
Â  Â  const resultDiv = document.getElementById("result");
Â  Â  resultDiv.innerHTML = `<h2>ì—”ì§„ì •ë¹„ ì „ì²´ëœë¤ ì´ì : ${score}/${questions.length}</h2>`;
}
Â 
// -----------------------------
// íƒ€ì´ë¨¸ (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
let totalSeconds = 60 * 60;
function updateTimer() {
Â  Â  let h = Math.floor(totalSeconds / 3600);
Â  Â  let m = Math.floor((totalSeconds % 3600) / 60);
Â  Â  let s = totalSeconds % 60;
Â  Â  document.getElementById(
Â  Â  Â  "timer"
Â  Â  ).textContent = `ë‚¨ì€ ì‹œê°„: ${h.toString().padStart(2, "0")}:${m
Â  Â  Â  .toString()
Â  Â  Â  .padStart(2, "0")}:${s.toString().padStart(2, "0")}`;
Â  Â  if (totalSeconds <= 0) {
Â  Â  Â  submitQuiz();
Â  Â  } else {
Â  Â  Â  totalSeconds--;
Â  Â  }
}
let timerInterval = setInterval(updateTimer, 1000);
Â 
// -----------------------------
// ì´ˆê¸°í™” (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
document.getElementById("submitBtn").addEventListener("click", submitQuiz);
renderQuiz();